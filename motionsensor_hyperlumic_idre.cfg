[filament_motion_sensor Avance_filament]
switch_pin: ^PB11 #SDA, PF15 pour DET2, PB10 pour SCL (IDRE)
detection_length: 6
extruder: extruder
pause_on_runout: False
runout_gcode:
	{% set sysstate = printer["virtual_sdcard"] %}
	{% if sysstate.is_active == True %}
		SET_DISPLAY_TEXT MSG="Blocage de filament 1 detectée ! Verifiez votre filament, votre compresseur et votre tête d'impression."
		RESPOND TYPE=command MSG="Blocage de filament 1 detectée ! Verifiez votre filament, votre compresseur et votre tête d'impression."
		PAUSE
	{% endif %}
insert_gcode:

[filament_motion_sensor Avance_filament_2]
switch_pin: ^PB10 #SDA, PF15 pour DET2, PB10 pour SCL (IDRE)
detection_length: 6
extruder: extruder1
pause_on_runout: False
runout_gcode:
	{% set sysstate = printer["virtual_sdcard"] %}
	{% if sysstate.is_active == True %}
		SET_DISPLAY_TEXT MSG="Blocage de filament 2 detectée ! Verifiez votre filament, votre compresseur et votre tête d'impression."
		RESPOND TYPE=command MSG="Blocage de filament 2 detectée ! Verifiez votre filament, votre compresseur et votre tête d'impression."
		PAUSE
	{% endif %}
insert_gcode: